var oe=Object.defineProperty;var U=t=>{throw TypeError(t)};var ne=(t,e,o)=>e in t?oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var N=(t,e,o)=>ne(t,typeof e!="symbol"?e+"":e,o),ae=(t,e,o)=>e.has(t)||U("Cannot "+o);var D=(t,e,o)=>e.has(t)?U("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o);var g=(t,e,o)=>(ae(t,e,"access private method"),o);import{S as x,N as q,P as V,K as z,a as ie,A as se,i as w}from"./assets/vendor-FszVT6nW.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const l="data:image/png;base64,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",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAxCAMAAACrgNoQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAJMUExURUdwTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4YFh0XE4prYNqxo/LEqnVeTPTHskk7MSQVA8GZgF1GPBgQCg8NCjwxKSsfFTAlHA8KBgkHBuG7qPGxmfbItseKb3pjVolpWc+nibGCa+K4me/CoUc2KzAiF4diR/jNuYtsVndSNfDAnPPHr/C+mnpeTu3FsrSRfeu7l/bLsYJcQO3AmpJwXfPSvA4LCuO6o/W/q9SciLyKac6jjJNsV619V4pnTvXHsYljSJdqRIFZRRwWEj8rHwwJBxkUDxkSD3VRRPTFqu23mvC/p/TJr+SzlOiylOWugeW7qPHDn4ZgSOOqgPPDosONZaJ0TJVqStKfeMOKXvTCqOu3lqpmTuKkmpVnTOCogvbLrpJgROy3mrZ8YeirjcyWeN6ggCYlJn5iUmM6HvDDouSjnJ5SPseUecCIXPXGp/PEodCac6h3TL2HZ6d2TcGAZuy0k2Q/J+quju26ouWjmM6MbIY6Keisl6p1TdyXd6huU9qie7iFbaykpNGae+Kxl7uHXKhkVuWnl1ghENWUge3Co+rAo8qCXnZBKdqkfMGCaoE6Jdqfguu7meSwmPTKrt2ag++8lsGNZXZHK+69pOq3n86Wcey5oOWpi+fCs3lKL9Ofi9Wbf+SjgfLBqaVpSFMpDrh/XufArHRHK7V+Xty4qOipie24nXhIJpliRPLFsWk6Htufd7l/WtCRb+mukjotfhoAAAAVdFJOUwB/QIAQv2DfIO9wnzBvz5Cvj6BfT6VhglcAAAHxSURBVBgZlcEDmxtBAAbgbze7OzPxtf1q27Zt27Zt27Zt2/xjzV2v9ySzm8vkfZGFlDBlxyJCMUXFk7EocpCWYgYRkcgu6jJARCKYU8AsChwEsAWzElH4xFgqCxqLOVjIYDEnC2liNBBGCUkjURRzBI0IB/9YNBRCEUljEoXK0FgEKZJ5cACEmYcQgDiDjOnLIC4g6Tdq/ZYNU/o1q0U/CY8+Y9ed+rhv7cQ+LarTx0OCutErTr749OHQ6ukDmtSkLgGXmnFrzrx/9u757wMrJ3VtWJ6aOAQ144+9+vzn14+nr/cv7N+oIjUC1I3cc/fLk29fXz7au3xY40rUgbrBq24+/P7m7YPbV7ZNaFeVOlDXe+npW/d+Pr586c722Z0qUwdFTZeZu05cu3/94vkjG2d0rkGNgqCm9dB5O85evXDj8ObF0zpWoSaOJDUN2g+fv/P4uYOblkzt1bwCNS4S1NVrO2Tu7qNbF8zq3qoadQl49KnbYcScZYsm92hZhz7l4NCvfpueAwd1a1qbfhJwmQcXQJh5KAvAUTSmJFJCNBZBIUfRkJAoEqahMIq5NCLwn1Q0ICRK2DRgI43HnDxk8JiDB01UsBTKho90mZUrEcQTDKTCyEKGBH1UyEEpPJfplOs5yMGxQ0lXpMQjMduB7i+xsc5gcSkHlAAAAABJRU5ErkJggg==",re=[{id:1,name:"Jane Doe",role:"Book Lover, Reader",text:"Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!",image:l},{id:2,name:"John Smith",role:"Editor, BookMag",text:"Customer service was super helpful, and my order arrived earlier than expected. Highly recommend!",image:l},{id:3,name:"Emily Johnson",role:"Author, Novelist",text:"Love the curated picks and clear descriptions. Makes it easy to find my next favorite book.",image:E},{id:4,name:"Lucas Bennett",role:"Literature Student",text:"The reviews help me pick the right book every time. Love how easy the layout is!",image:l},{id:5,name:"Sophie Miller",role:"Freelance Writer",text:"Beautifully designed website and smooth checkout. The book summaries are spot-on!",image:l},{id:6,name:"Daniel Kim",role:"Book Reviewer",text:"Fast delivery and excellent packaging. I’ve already recommended this store to my friends.",image:l},{id:7,name:"Amelia Torres",role:"Content Creator",text:"The reading recommendations are always fresh and inspiring. Great job, team!",image:E},{id:8,name:"Oliver Wright",role:"Teacher, Literature Enthusiast",text:"I appreciate the curated collections. Makes finding classroom material a breeze!",image:l},{id:9,name:"Hannah Brooks",role:"Book Club Organizer",text:"I can always find niche titles here that I can’t get anywhere else. Fantastic service!",image:E},{id:10,name:"Ethan Clark",role:"Graphic Designer",text:"Love the typography and layout of the reviews section — clean and inviting!",image:l},{id:11,name:"Natalie Rivers",role:"Book Blogger",text:"I can always find niche titles here that I can’t get anywhere else. Fantastic service!",image:l},{id:12,name:"Michael Lee",role:"Collector of Classics",text:"The rare editions section is a treasure trove. Thank you for keeping print culture alive!",image:l}],ce=re.map(t=>`<li class="swiper-slide feedback-item">
        <p class ="feedback-text-item">${t.text}</p>
        <div class="user-container">
        <img class="swiper-slide image-avatar" src="${t.image}" alt="${t.name}"/>
        <div class="user-info">
        <p class="user-name">${t.name}</p>
        <p class="user-role">${t.role}</p>
        </div>
        </div>
    </li>`).join(""),le=document.querySelector(".feedback-list");le.innerHTML=ce;new x(".hero-swiper",{modules:[q],speed:600,loop:!1,keyboard:{enabled:!0,onlyInViewport:!0},slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});new x(".events-swiper",{modules:[q,V,z],speed:350,slidesPerView:"auto",spaceBetween:16,watchOverflow:!0,loop:!1,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});new x(".feedback-swiper",{modules:[q,V,z],speed:600,spaceBetween:24,loop:!1,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".swiper-pagination-feedbacks",clickable:!0,dynamicBullets:!0,dynamicMainBullets:4},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1,slidesPerGroup:1},768:{slidesPerView:2,slidesPerGroup:2},1440:{slidesPerView:3,slidesPerGroup:3}}});class h{static async fetchCategories(){const{data:e}=await this.axiosInstance.get("/books/category-list");return e}static async fetchTopBooks(){const{data:e}=await this.axiosInstance.get("/books/top-books");return e}static async fetchBooksByCategory(e){const{data:o}=await this.axiosInstance.get("/books/category",{params:{category:e}});return o}static async fetchBookById(e){const{data:o}=await this.axiosInstance.get(`/books/${e}`);return o}}N(h,"axiosInstance",ie.create({baseURL:"https://books-backend.p.goit.global",timeout:1e4}));var c,J,L,S;class f{static renderCategories(e,o,a){const i=[{list_name:"All categories"},...e];this._categories=i,this._onCategoryClick=a,this._container=o,g(this,c,L).call(this),window.addEventListener("resize",g(this,c,J).bind(this))}static renderBooks(e,o){if(!(e!=null&&e.length)){o.innerHTML='<li class="no-books-message">No books found</li>';return}o.innerHTML=e.map(a=>g(this,c,S).call(this,a)).join("")}static renderMoreBooks(e,o){o.insertAdjacentHTML("beforeend",e.map(a=>g(this,c,S).call(this,a)).join(""))}static updateCounters(e,o,a,n){a.textContent=e,n.textContent=o}static toggleShowMoreButton(e,o){e.classList.toggle("hidden",!o)}static truncateText(e,o){return(e==null?void 0:e.length)>o?e.substring(0,o)+"…":e}}c=new WeakSet,J=function(){window.innerWidth<768!==this._isMobile&&g(this,c,L).call(this)},L=function(){this._isMobile=window.innerWidth<768;const e=this._container,o=this._categories,a=this._onCategoryClick;if(this._isMobile){e.innerHTML=`
    <div class="dropdown-wrapper">
    <select id="category-select" class="category-select">
      <option value="" disabled selected hidden>Categories</option>
      ${o.map(i=>`<option value="${i.list_name}">${i.list_name}</option>`).join("")}
    </select>
    <svg class="dropdown-arrow" width="24" height="24" viewBox="0 0 24 25">
  <use href="src/img/icons.svg#dropdown-arrow"></use>
</svg>
  </div>
  `;const n=e.querySelector("#category-select");a("All categories"),n.addEventListener("change",i=>{a(i.target.value)})}else e.innerHTML=o.map(n=>`
            <div
              class="filter-item ${n.list_name==="All categories"?"active":""}"
              data-category="${n.list_name}"
              role="button"
              tabindex="0"
            >
              ${n.list_name}
            </div>
          `).join(""),e.querySelectorAll(".filter-item").forEach(n=>{n.addEventListener("click",()=>{e.querySelectorAll(".filter-item").forEach(i=>i.classList.remove("active")),n.classList.add("active"),a(n.dataset.category)})})},S=function(e){return`
      <li class="book-item">
        <div class="book-image">
          ${e.book_image?`<img src="${e.book_image}"
                  alt="${e.title} by ${e.author||"Unknown Author"}"
                  loading="lazy"
                  onerror="this.src='img/no-image.png';">`:'<div class="no-image">No image available</div>'}
        </div>
        <div class="book-details">
          <div class="book-name-wrapper">
            <h3 class="book-title">${this.truncateText(e.title,50)}</h3>
            <p class="book-author">${e.author||"Unknown Author"}</p>
          </div>
          <p class="book-price">${e.price?`$${e.price}`:"N/A"}</p>
        </div>
        <button class="btn btn-secondary learn-more-btn" data-id="${e._id}">Learn More</button>
      </li>
    `},D(f,c);const y=document.querySelector(".book-modal-layer"),de=document.querySelector(".book-desc-wrapper"),ue=document.querySelector(".book-img-container"),me=document.querySelector("[data-category='details']"),O=document.querySelector(".btn-close-modal"),Ae=document.querySelector(".book-id-input"),R=document.querySelector(".book-form"),H=document.querySelector(".book-amount-wrapper"),j=document.querySelector(".btn-add-to-cart"),G=document.querySelector(".btn-buy"),M=new se(".accordion-container",{duration:400,showMultiple:!0});async function ge(t){try{const e=await h.fetchBookById(t);ke(e),fe()}catch(e){console.log(e);return}}function fe(){y.classList.add("is-opened"),y.addEventListener("click",T),O.addEventListener("click",T),document.addEventListener("keydown",pe),R.addEventListener("submit",Q),H.addEventListener("click",C),j.addEventListener("click",C),Be(),be()}function B(){y.classList.remove("is-opened"),y.removeEventListener("click",B),O.removeEventListener("click",T),document.removeEventListener("keydown",B),R.removeEventListener("submit",Q),H.removeEventListener("click",C),j.removeEventListener("click",C),Ce(),he()}function T(t){(t.currentTarget.classList.contains("book-modal-layer")&&t.target===t.currentTarget||t.currentTarget===O)&&B()}function pe(t){t.code==="Escape"&&B()}function ke({_id:t,book_image:e,title:o,author:a,price:n,description:i}){ue.innerHTML=`<img class="book-img" src="${e}" alt="">`,me.textContent=i.length?i:o+" by "+a,de.innerHTML=`
        <h3 class="book-title">${o}</h3>
        <p class="book-author">${a}</p>
        <p class="book-price">&#36;${n}</p>`,Ae.value=t}function be(){M.attachEvents()}function he(){M.closeAll(),M.detachEvents()}function ye(t){let e=Number(document.querySelector('[name="amount"]').value);e++,document.querySelector('[name="amount"]').value=e,e===1&&(document.querySelector(".btn-minus").disabled=!1,G.disabled=!1)}function ve(t){let e=Number(document.querySelector('[name="amount"]').value);e--,document.querySelector('[name="amount"]').value=e,e===0&&(document.querySelector(".btn-minus").disabled=!0,G.disabled=!0)}function we(t){const e=t.target.closest(".book-form"),o={book:e.elements.book.value,quantity:e.elements.amount.value};o.quantity==="0"&&console.log("Book is not added because of the 0 quantity:"),console.log(o)}function C(t){t.target.nodeName==="BUTTON"&&(t.preventDefault(),t.target.classList.contains("btn-add-to-cart")?we(t):t.target.classList.contains("btn-minus")?ve():t.target.classList.contains("btn-plus")&&ye())}function Q(t){const e=t.target.elements;console.log("submit",t.target),t.preventDefault();const o={book:e.book.value,title:y.querySelector(".book-title").textContent,quantity:e.amount.value};console.log(o),w.show({title:"Дякуємо за покупку",message:`${o.title} x${o.quantity}`})}function Be(){document.querySelector("body").classList.add("menu-open")}function Ce(){document.querySelector("body").classList.remove("menu-open")}function Ee(t){if(t.target.nodeName!=="BUTTON")return;const e=t.target.dataset.id;ge(e)}let P="",K=10,d=[],u=0;const p=document.getElementById("books-list"),Le=document.getElementById("filters-list"),Y=document.getElementById("show-more-btn"),Se=document.getElementById("showing-count"),Me=document.getElementById("total-count");document.addEventListener("DOMContentLoaded",Te);async function Te(){xe(),await qe(),Pe()}function Pe(){Y.addEventListener("click",Ie),p.addEventListener("click",Ee)}function xe(){K=window.innerWidth>=768?24:10}async function qe(){try{Z("Loading categories...");const t=await h.fetchCategories(),e=["Combined Print and E-Book Fiction","Combined Print and E-Book Nonfiction","Hardcover Fiction","Paperback Trade Fiction","Paperback Nonfiction","Advice How-To and Miscellaneous","Childrens Middle Grade Hardcover"],o=t.filter(a=>e.includes(a.list_name));f.renderCategories(o,Le,a=>F(a)),F("All categories")}catch{W("Could not load categories.")}}function F(t){P=t==="All categories"?"":t,Oe()}async function Oe(){try{Z("Loading books...");let t=[];if(P?t=await h.fetchBooksByCategory(P):t=(await h.fetchTopBooks()).flatMap(o=>o.books||[]),!t.length){Ue();return}d=t,u=Math.min(K,d.length),f.renderBooks(d.slice(0,u),p),X()}catch{W("Could not load books.")}}function Ie(){const t=Math.min(u+4,d.length),e=d.slice(u,t);e.length>0&&(f.renderMoreBooks(e,p),u=t,X())}function Z(t="Loading..."){p.innerHTML=`<li class="loading-message">${t}</li>`}function W(t){p.innerHTML=`<li class="error-message">${t}</li>`}function Ue(){p.innerHTML='<li class="no-books-message">No books found</li>'}function X(){f.updateCounters(u,d.length,Se,Me),f.toggleShowMoreButton(Y,u<d.length)}function Ne(){const t=document.querySelector(".mobile-menu"),e=document.querySelector(".mob-menu-btn"),o=document.querySelector(".mob-menu-close-btn"),a=document.querySelectorAll(".nav-link, .mob-nav-link"),n=()=>{t.classList.add("is-open"),document.body.classList.add("menu-open")},i=()=>{t.classList.remove("is-open"),document.body.classList.remove("menu-open")};e&&e.addEventListener("click",n),o&&o.addEventListener("click",i),a.forEach(r=>{r.addEventListener("click",k=>{const m=r.getAttribute("href"),A=document.querySelector(m);A&&(k.preventDefault(),A.scrollIntoView({behavior:"smooth"})),r.classList.contains("mob-nav-link")&&i()})})}function De(){const t=document.getElementById("contactsModal"),e=document.getElementById("modalBackdrop"),o=document.getElementById("modalClose"),a=document.getElementById("contactsForm"),n=document.querySelectorAll(".open-modal-btn"),i=t.querySelector(".modal-contacts-text"),r="register-form-data",k=a.elements.name,m=a.elements.email,A=a.elements.message;function $(s=""){i.textContent=s,t.style.display="block",e.style.display="block",document.body.classList.add("modal-open"),localStorage.removeItem(r),a.reset(),window.addEventListener("keydown",I)}function v(){t.style.display="none",e.style.display="none",document.body.classList.remove("modal-open"),window.removeEventListener("keydown",I)}function I(s){s.key==="Escape"&&v()}n.forEach(s=>{s.addEventListener("click",b=>{b.preventDefault();const te=s.dataset.subtitle||"";$(te)})}),o.addEventListener("click",v),e.addEventListener("click",s=>{s.target===e&&v()});function _(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function ee(){const s={name:k.value.trim(),email:m.value.trim(),message:A.value.trim()};localStorage.setItem(r,JSON.stringify(s))}[k,m,A].forEach(s=>s.addEventListener("input",ee)),a.addEventListener("submit",async s=>{if(s.preventDefault(),!_(m.value.trim())){w.error({title:"Error",message:"Please enter a valid email.",position:"topRight",backgroundColor:" #b44a04",titleColor:"#fff",messageColor:"#fff",iconColor:"#fff"});return}k.value.trim(),m.value.trim(),A.value.trim();try{await new Promise(b=>setTimeout(b,1e3)),w.success({title:"Successfully",message:"Data sent successfully!",position:"topRight",backgroundColor:"#e15d05",titleColor:"#fff",messageColor:"#fff",iconColor:"#fff"}),localStorage.removeItem(r),a.reset(),setTimeout(()=>v(),200)}catch{w.error({title:"Error",message:"An error occurred. Please try again.",position:"topRight",backgroundColor:"#ff4757",titleColor:"#fff",messageColor:"#fff",iconColor:"#fff"})}})}Ne();De();
//# sourceMappingURL=index.js.map
