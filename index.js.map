{"version":3,"file":"index.js","sources":["../src/js/books-api.js","../src/js/books-render.js","../src/js/book-modal.js","../src/js/books-main.js","../src/js/swiper.js","../src/js/header.js","../src/main.js"],"sourcesContent":["export default class BooksAPI {\n  static BASE_URL = 'https://books-backend.p.goit.global/books';\n\n  static async fetchCategories() {\n    return this.#fetchData('/category-list', 'Error fetching categories');\n  }\n\n  static async fetchTopBooks() {\n    return this.#fetchData('/top-books', 'Error fetching top books');\n  }\n\n  static async fetchBooksByCategory(category) {\n    return this.#fetchData(\n      `/category?category=${encodeURIComponent(category)}`,\n      'Error fetching books by category'\n    );\n  }\n\n  static async fetchBookById(bookId) {\n    return this.#fetchData(`/${bookId}`, 'Error fetching book by ID');\n  }\n\n  static async #fetchData(endpoint, errorMessage) {\n    try {\n      const response = await fetch(`${this.BASE_URL}${endpoint}`);\n      console.log(`[FETCH] ${this.BASE_URL}${endpoint}`);\n\n      if (!response.ok) {\n        throw new Error(`${errorMessage}: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error(errorMessage, error);\n      throw error;\n    }\n  }\n}\n","export default class BooksRenderer {\n  static renderCategories(categories, container, onCategoryClick) {\n    const allCategory = { list_name: 'All categories' };\n    const categoriesWithAll = [allCategory, ...categories];\n\n    this._categories = categoriesWithAll;\n    this._onCategoryClick = onCategoryClick;\n    this._container = container;\n\n    this.#renderBasedOnScreen();\n    window.addEventListener('resize', this.#handleResize.bind(this));\n  }\n\n  static #handleResize() {\n    const isMobile = window.innerWidth < 1440;\n    if (isMobile !== this._isMobile) {\n      this.#renderBasedOnScreen();\n    }\n  }\n\n  static #renderBasedOnScreen() {\n    this._isMobile = window.innerWidth < 1440;\n    const container = this._container;\n    const categories = this._categories;\n    const onCategoryClick = this._onCategoryClick;\n\n    if (this._isMobile) {\n      container.innerHTML = `\n    <div class=\"dropdown-wrapper\">\n      <select id=\"category-select\" class=\"category-select\">\n        <option value=\"\" disabled selected hidden>Categories</option>\n        ${categories\n          .map(\n            c => `\n            <option value=\"${c.list_name}\">\n              ${c.list_name}\n            </option>`\n          )\n          .join('')}\n      </select>\n    </div>\n  `;\n\n      const select = container.querySelector('#category-select');\n      select.addEventListener('change', e => {\n        onCategoryClick(e.target.value);\n      });\n    } else {\n      container.innerHTML = categories\n        .map(\n          category => `\n          <div \n            class=\"filter-item ${\n              category.list_name === 'All categories' ? 'active' : ''\n            }\"\n            data-category=\"${category.list_name}\"\n            role=\"button\"\n            tabindex=\"0\"\n          >\n            ${category.list_name}\n          </div>\n        `\n        )\n        .join('');\n\n      container.querySelectorAll('.filter-item').forEach(item => {\n        item.addEventListener('click', () => {\n          container\n            .querySelectorAll('.filter-item')\n            .forEach(i => i.classList.remove('active'));\n          item.classList.add('active');\n          onCategoryClick(item.dataset.category);\n        });\n      });\n    }\n  }\n\n  static renderBooks(books, container) {\n    if (!books?.length) {\n      container.innerHTML = '<li class=\"no-books-message\">No books found</li>';\n      return;\n    }\n    container.innerHTML = books\n      .map(book => this.#createBookCard(book))\n      .join('');\n  }\n\n  static renderMoreBooks(books, container) {\n    container.insertAdjacentHTML(\n      'beforeend',\n      books.map(book => this.#createBookCard(book)).join('')\n    );\n  }\n\n  static #createBookCard(book) {\n    return `\n      <li class=\"book-item\">\n        <div class=\"book-image\">\n          ${\n            book.book_image\n              ? `<img src=\"${book.book_image}\" \n              alt=\"${book.title} by ${book.author || 'Unknown Author'}\" \n              loading=\"lazy\" \n              onerror=\"this.src='img/no-image.png';\">`\n              : '<div class=\"no-image\">No image available</div>'\n          }\n        </div>\n        <div class=\"book-details\">\n          <h3 class=\"book-title\">${this.truncateText(book.title, 50)}</h3>\n          <p class=\"book-author\">${book.author || 'Unknown Author'}</p>\n          <p class=\"book-price\">${'$' + book.price}</p>\n          <button class=\"learn-more-btn\" data-id=\"${\n            book._id\n          }\">Learn More</button>\n        </div>\n      </li>\n    `;\n  }\n\n  static updateCounters(displayed, total, showingElement, totalElement) {\n    showingElement.textContent = displayed;\n    totalElement.textContent = total;\n  }\n\n  static toggleShowMoreButton(button, shouldShow) {\n    button.classList.toggle('hidden', !shouldShow);\n  }\n\n  static truncateText(text, maxLength) {\n    return text?.length > maxLength ? text.substring(0, maxLength) + '…' : text;\n  }\n}\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport BooksAPI from './books-api';\n\nconst bookModalFullscreen = document.querySelector('.book-modal-layer');\nconst bookDecsription = document.querySelector('.book-desc-wrapper');\nconst bookImg = document.querySelector('.book-img-container');\nconst bookDetails = document.querySelector(\"[data-category='details']\");\nconst bookModalCloseBtn = document.querySelector('.btn-close-modal');\nconst bookIdInput = document.querySelector('.book-id-input');\nconst bookForm = document.querySelector('.book-form');\nconst bookFormAmountContainer = document.querySelector('.book-amount-wrapper');\nconst bookFormAddBtn = document.querySelector('.btn-add-to-cart');\nconst bookFormBuyBtn = document.querySelector('.btn-buy');\n\nconst accordion = new Accordion('.accordion-container', {\n  duration: 400,\n  showMultiple: true,\n});\n\nasync function showBook(bookId) {\n  try {\n    const bookData = await BooksAPI.fetchBookById(bookId);\n    renderBook(bookData);\n    openModal();\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n}\n\nfunction openModal() {\n  bookModalFullscreen.classList.add('is-opened');\n\n  bookModalFullscreen.addEventListener('click', closeModalByClick);\n  bookModalCloseBtn.addEventListener('click', closeModalByClick);\n  document.addEventListener('keydown', closeModalByKey);\n\n  bookForm.addEventListener('submit', onBookFormSubmit);\n  bookFormAmountContainer.addEventListener('click', onBookFormClick);\n  bookFormAddBtn.addEventListener('click', onBookFormClick);\n  disableScroll();\n\n  setupAccordeon();\n}\n\nfunction closeModal() {\n  bookModalFullscreen.classList.remove('is-opened');\n\n  bookModalFullscreen.removeEventListener('click', closeModal);\n  bookModalCloseBtn.removeEventListener('click', closeModalByClick);\n  document.removeEventListener('keydown', closeModal);\n\n  bookForm.removeEventListener('submit', onBookFormSubmit);\n  bookFormAmountContainer.removeEventListener('click', onBookFormClick);\n  bookFormAddBtn.removeEventListener('click', onBookFormClick);\n  enableScroll();\n\n  clearAccordeon();\n}\n\nfunction closeModalByClick(event) {\n  if (\n    (event.currentTarget.classList.contains('book-modal-layer') &&\n      event.target === event.currentTarget) ||\n    event.currentTarget === bookModalCloseBtn\n  )\n    closeModal();\n}\n\nfunction closeModalByKey(event) {\n  if (event.code === 'Escape') closeModal();\n}\n\nfunction renderBook({ _id, book_image, title, author, price, description }) {\n  bookImg.innerHTML = `<img class=\"book-img\" src=\"${book_image}\" alt=\"\">`;\n  bookDetails.textContent = description.length\n    ? description\n    : title + ' by ' + author;\n  bookDecsription.innerHTML = `\n        <h3 class=\"book-title\">${title}</h3>\n        <p class=\"book-author\">${author}</p>\n        <p class=\"book-price\">&#36;${price}</p>`;\n  bookIdInput.value = _id;\n  return;\n}\n\nfunction setupAccordeon() {\n  accordion.attachEvents();\n}\n\nfunction clearAccordeon() {\n  accordion.closeAll();\n  accordion.detachEvents();\n}\n\nfunction increaseBookAmount(event) {\n  let amount = Number(document.querySelector('[name=\"amount\"]').value);\n  amount++;\n  document.querySelector('[name=\"amount\"]').value = amount;\n\n  if (amount === 1) {\n    document.querySelector('.btn-minus').disabled = false;\n    bookFormBuyBtn.disabled = false;\n  }\n}\n\nfunction decreaseBookAmount(event) {\n  let amount = Number(document.querySelector('[name=\"amount\"]').value);\n  amount--;\n  document.querySelector('[name=\"amount\"]').value = amount;\n  if (amount === 0) {\n    document.querySelector('.btn-minus').disabled = true;\n    bookFormBuyBtn.disabled = true;\n  }\n}\n\nfunction addToCart(event) {\n  const form = event.target.closest('.book-form');\n  const order = {\n    book: form.elements.book.value,\n    quantity: form.elements.amount.value,\n  };\n  if (order.quantity === '0')\n    console.log('Book is not added because of the 0 quantity:');\n  console.log(order);\n}\n\nfunction onBookFormClick(event) {\n  if (event.target.nodeName !== 'BUTTON') return;\n  event.preventDefault();\n\n  if (event.target.classList.contains('btn-add-to-cart')) addToCart(event);\n  else if (event.target.classList.contains('btn-minus'))\n    decreaseBookAmount(event);\n  else if (event.target.classList.contains('btn-plus'))\n    increaseBookAmount(event);\n}\n\nfunction onBookFormSubmit(event) {\n  const form = event.target.elements;\n  console.log('submit', event.target);\n  event.preventDefault();\n  const order = {\n    book: form.book.value,\n    title: bookModalFullscreen.querySelector('.book-title').textContent,\n    quantity: form.amount.value,\n  };\n  console.log(order);\n  iziToast.show({\n    title: 'Дякуємо за покупку',\n    message: `${order.title} x${order.quantity}`,\n  });\n}\n\nfunction disableScroll() {\n  document.querySelector('body').classList.add('menu-open');\n}\n\nfunction enableScroll() {\n  document.querySelector('body').classList.remove('menu-open');\n}\n\nexport function onBookClick(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const bookId = event.target.dataset.id;\n  showBook(bookId);\n}\n","import BooksAPI from './books-api.js';\nimport BooksRenderer from './books-render.js';\nimport { onBookClick } from './book-modal.js';\n\nlet currentCategory = '';\nconst booksPerPage = window.innerWidth >= 768 ? 24 : 10;\nlet allBooks = [];\nlet displayedBooks = 0;\n\nconst booksList = document.getElementById('books-list');\nconst filtersList = document.getElementById('filters-list');\nconst showMoreBtn = document.getElementById('show-more-btn');\nconst showingCount = document.getElementById('showing-count');\nconst totalCount = document.getElementById('total-count');\n\ndocument.addEventListener('DOMContentLoaded', initBooksSection);\n\nfunction initBooksSection() {\n  loadCategories();\n  showMoreBtn.addEventListener('click', loadMoreBooks);\n  booksList.addEventListener('click', onBookClick);\n}\n\nfunction loadCategories() {\n  const fixedCategories = [\n    { list_name: 'Combined Print and E-Book Fiction' },\n    { list_name: 'Combined Print and E-Book Nonfiction' },\n    { list_name: 'Hardcover Fiction' },\n    { list_name: 'Paperback Trade Fiction' },\n    { list_name: 'Paperback Nonfiction' },\n    { list_name: 'Advice How-To and Miscellaneous' },\n    { list_name: 'Childrens Middle Grade Hardcover' },\n  ];\n\n  BooksRenderer.renderCategories(\n    fixedCategories,\n    filtersList,\n    onCategoryChange\n  );\n  onCategoryChange('All categories');\n}\n\nfunction onCategoryChange(category) {\n  currentCategory = category === 'All categories' ? '' : category;\n  loadBooks();\n}\n\nasync function loadBooks() {\n  try {\n    showMessage('loading', 'Loading books...');\n    let booksData = currentCategory\n      ? await BooksAPI.fetchBooksByCategory(currentCategory)\n      : (await BooksAPI.fetchTopBooks()).flatMap(c => c.books || []);\n\n    if (!booksData?.length) return showMessage('no-books', 'No books found');\n\n    allBooks = booksData;\n    displayedBooks = Math.min(booksPerPage, allBooks.length);\n    BooksRenderer.renderBooks(allBooks.slice(0, displayedBooks), booksList);\n    updateBooksUI();\n  } catch (err) {\n    console.error('❌ Failed to load books:', err);\n    showMessage('error', 'Could not load books.');\n  }\n}\n\nfunction loadMoreBooks() {\n  const next = Math.min(displayedBooks + 4, allBooks.length);\n  const moreBooks = allBooks.slice(displayedBooks, next);\n  if (!moreBooks.length) return;\n\n  BooksRenderer.renderMoreBooks(moreBooks, booksList);\n  displayedBooks = next;\n  updateBooksUI();\n}\n\nfunction updateBooksUI() {\n  BooksRenderer.updateCounters(\n    displayedBooks,\n    allBooks.length,\n    showingCount,\n    totalCount\n  );\n  BooksRenderer.toggleShowMoreButton(\n    showMoreBtn,\n    displayedBooks < allBooks.length\n  );\n}\nfunction showMessage(type, text) {\n  booksList.innerHTML = `<li class=\"${type}-message\">${text}</li>`;\n}\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\n\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nexport const heroSwiper = new Swiper('.hero-swiper', {\n  modules: [Navigation],\n  speed: 600,\n  loop: false,\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  slidesPerView: 1,\n  spaceBetween: 20,\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n});\n\nexport const swiperEvents = new Swiper('.events-swiper', {\n  modules: [Navigation, Pagination],\n\n  speed: 350,\n  slidesPerView: 'auto',\n  spaceBetween: 16,\n  watchOverflow: true,\n\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n    bulletClass: 'swiper-pagination-bullet',\n    bulletActiveClass: 'swiper-pagination-bullet-active',\n  },\n\n  breakpoints: {\n    768: { slidesPerView: 2, spaceBetween: 24 },\n    1440: { slidesPerView: 3, spaceBetween: 24 },\n  },\n});\n","export function initMobileMenu() {\n  const body = document.body;\n  const mobileMenu = document.querySelector('.mobile-menu');\n  const openBtn = document.querySelector('.mob-menu-btn');\n  const closeBtn = document.querySelector('.mob-menu-close-btn');\n\n  openBtn.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    body.style.overflow = 'hidden';\n  });\n\n  closeBtn.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    body.style.overflow = '';\n  });\n\n  document.querySelectorAll('a[href^=\"#\"]').forEach(link => {\n    link.addEventListener('click', event => {\n      event.preventDefault();\n\n      const targetId = link.getAttribute('href');\n      const targetSection = document.querySelector(targetId);\n\n      if (targetSection) {\n        targetSection.scrollIntoView({ behavior: 'smooth' });\n      }\n\n      if (mobileMenu.contains(link)) {\n        mobileMenu.classList.remove('is-open');\n        body.style.overflow = '';\n      }\n    });\n  });\n}\n","import './js/book-modal.js';\nimport { heroSwiper } from './js/swiper.js';\nimport { swiperEvents } from './js/swiper.js';\nimport { initMobileMenu } from './js/header.js';\ninitMobileMenu();\n"],"names":["BooksAPI","__privateMethod","_BooksAPI_static","fetchData_fn","category","bookId","endpoint","errorMessage","response","error","__privateAdd","__publicField","BooksRenderer","categories","container","onCategoryClick","categoriesWithAll","_BooksRenderer_static","renderBasedOnScreen_fn","handleResize_fn","books","book","createBookCard_fn","displayed","total","showingElement","totalElement","button","shouldShow","text","maxLength","c","e","item","i","bookModalFullscreen","bookDecsription","bookImg","bookDetails","bookModalCloseBtn","bookIdInput","bookForm","bookFormAmountContainer","bookFormAddBtn","bookFormBuyBtn","accordion","Accordion","showBook","bookData","renderBook","openModal","closeModalByClick","closeModalByKey","onBookFormSubmit","onBookFormClick","disableScroll","setupAccordeon","closeModal","enableScroll","clearAccordeon","event","_id","book_image","title","author","price","description","increaseBookAmount","amount","decreaseBookAmount","addToCart","form","order","iziToast","onBookClick","currentCategory","booksPerPage","allBooks","displayedBooks","booksList","filtersList","showMoreBtn","showingCount","totalCount","initBooksSection","loadCategories","loadMoreBooks","fixedCategories","onCategoryChange","loadBooks","showMessage","booksData","updateBooksUI","err","next","moreBooks","type","Swiper","Navigation","Pagination","initMobileMenu","body","mobileMenu","openBtn","closeBtn","link","targetId","targetSection"],"mappings":"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"}